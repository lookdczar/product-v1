# 用户列表页面交互说明

## 页面描述
用户列表页面展示所有外部用户的信息，包括学生、老师、家长、代理人等用户类型。该页面支持用户信息的查看、创建、编辑、删除等操作。

## 功能列表

### 1. 数据展示
- 数据以列表形式分页展示
- 最新创建的用户默认排在数据列表第一行
- 支持多字段排序：
  - 创建时间排序
  - ID排序
  - 其他属性排序

### 2. 功能按钮
#### 2.1 功能标签栏按钮
- 创建（新增）用户按钮
- 排序切换标签（支持时间顺序/倒序切换）

#### 2.2 数据列表操作区按钮
- 编辑
- 查看
- 删除（移入回收站）
- 锁定/解锁
- 启用/停用
- 权限分配

### 3. 用户锁定功能
#### 背景说明
出于安全考虑，在账号有风险的情况下通过锁定账号来保护用户数据。

#### 锁定场景
- 用户频繁异地登录，系统判定账号可能被盗
- 公安机关调查异常用户

#### 锁定影响范围
- 被锁定用户不允许编辑个人信息
- 其他限制根据具体业务需求设定

### 4. 用户停用功能
停用后用户将无法使用平台功能，直到被重新启用。

### 5. 敏感词管理
- 特殊意义的用户名禁止使用
- 接入敏感词服务
- 敏感词变更后需要清洗已有用户信息
- 违规处理方式：
  - 停用账号
  - 修改用户名
  - 通过站内信或其他方式通知用户

### 6. 权限管理
#### 权限查看
- 支持内部员工查看外部用户权限
- 需要ES支持用户搜索功能

#### 权限分配
- 入口1：用户列表右侧操作区的权限分配按钮
- 入口2：功能标签栏的权限分配按钮（需要先搜索选择用户）
- 支持方式：
  - 直接分配具体权限
  - 通过关联角色分配权限

## 交互流程

### 创建用户流程
1. 点击"创建用户"按钮
2. 进入用户创建表单页面
3. 填写用户信息（包括必填和选填字段）
4. 选择用户分类（可多选）
5. 提交表单
6. 系统验证表单数据
7. 创建成功后自动返回列表页

### 编辑用户流程
1. 点击用户行的"编辑"按钮
2. 进入用户编辑表单页面
3. 修改用户信息
4. 提交表单
5. 系统验证表单数据
6. 保存成功后自动返回列表页

### 锁定/解锁流程
1. 点击用户行的"锁定"/"解锁"按钮
2. 弹出确认对话框
3. 确认操作
4. 系统执行锁定/解锁操作
5. 刷新用户状态显示

### 启用/停用流程
1. 点击用户行的"启用"/"停用"按钮
2. 弹出确认对话框
3. 确认操作
4. 系统执行启用/停用操作
5. 刷新用户状态显示

### 权限分配流程
1. 点击权限分配按钮（列表操作区或功能标签栏）
2. 进入权限分配页面
3. 选择要分配的角色或具体权限
4. 提交分配
5. 系统保存权限设置
6. 自动返回列表页

## 注意事项
1. 所有操作都需要记录操作日志
2. 删除操作为软删除，移入回收站
3. 用户名需要进行敏感词检查
4. 权限分配需要考虑用户角色的权限合集
5. 支持批量操作功能
6. 列表页需要支持多条件筛选和搜索