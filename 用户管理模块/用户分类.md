# 用户分类页面交互说明

## 页面描述
用户分类页面用于创建和管理用户的分类信息，这是创建用户信息的前置准备工作。通过分类管理，可以为不同类型的用户（如学生、老师、家长、代理人等）设置不同的属性集。

## 功能列表

### 1. 数据展示
- 分类列表以表格形式展示
- 支持分页显示
- 支持排序功能

### 2. 分类管理功能
#### 2.1 创建分类
- 分类名称（必填）
- 分类描述
- 分类ID（系统自动生成）
- 排序号
- 状态（启用/停用）

#### 2.2 编辑分类
- 修改分类基本信息
- 调整分类状态
- 更新排序号

#### 2.3 删除分类
- 软删除机制
- 删除前检查是否有关联用户
- 删除确认机制

### 3. 分类关联
#### 3.1 属性集关联
- 每个分类可以关联不同的属性集
- 支持批量设置属性
- 支持属性必填/选填设置

#### 3.2 用户关联
- 显示关联用户数量
- 支持查看关联用户列表
- 支持批量调整用户分类

## 交互流程

### 创建分类流程
1. 点击"创建分类"按钮
2. 打开创建分类表单
3. 填写分类信息：
   - 分类名称
   - 分类描述
   - 排序号
   - 状态设置
4. 提交表单
5. 系统验证数据
6. 创建成功后自动刷新列表

### 编辑分类流程
1. 点击分类行的"编辑"按钮
2. 打开编辑分类表单
3. 修改分类信息
4. 提交修改
5. 系统验证数据
6. 保存成功后自动刷新列表

### 删除分类流程
1. 点击分类行的"删除"按钮
2. 系统检查分类关联状态
3. 显示删除确认对话框
4. 确认删除操作
5. 执行软删除
6. 刷新分类列表

### 属性集关联流程
1. 点击"设置属性"按钮
2. 打开属性关联页面
3. 显示可选属性列表
4. 选择需要关联的属性
5. 设置属性是否必填
6. 保存属性关联设置
7. 自动返回分类列表

## 页面元素

### 1. 功能按钮区
- 创建分类按钮
- 批量操作按钮
- 刷新按钮
- 导出按钮（可选）

### 2. 搜索筛选区
- 分类名称搜索
- 状态筛选
- 创建时间范围筛选

### 3. 列表显示区
- 分类ID
- 分类名称
- 分类描述
- 关联用户数量
- 创建时间
- 更新时间
- 状态
- 操作按钮组

### 4. 操作按钮组
- 编辑
- 删除
- 设置属性
- 查看关联用户

## 注意事项

### 1. 数据验证
- 分类名称不能重复
- 分类名称不能为空
- 分类名称长度限制
- 描述字段长度限制

### 2. 权限控制
- 创建分类权限
- 编辑分类权限
- 删除分类权限
- 查看分类权限
- 设置属性权限

### 3. 业务规则
- 已有用户关联的分类需要谨慎修改
- 分类删除前需要处理关联的用户
- 分类状态变更需要考虑对现有用户的影响
- 分类的属性集变更需要考虑对现有用户数据的影响

### 4. 日志记录
- 记录所有分类操作日志
- 记录操作人、操作时间、操作类型、操作内容
- 支持日志查询和导出

### 5. 性能考虑
- 分类数据缓存机制
- 关联数据懒加载
- 批量操作的性能优化