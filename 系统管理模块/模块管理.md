# 模块管理页面交互说明

## 页面描述
模块管理页面用于创建和管理系统的功能模块。模块是系统功能的顶层分类，通常对应左侧导航栏的一级菜单。通过模块管理，可以对系统功能进行分类组织，控制模块的显示顺序、状态以及权限。系统支持内部模块和外部模块的完全隔离，确保不同用户群体的功能独立管理。

## 功能列表

### 1. 模块管理
#### 1.1 模块创建
- 模块基本信息
  - 模块名称（必填）
  - 模块标识（必填，唯一）
  - 模块图标
  - 模块描述
  - 排序号
  - 状态（启用/停用）
- 模块类型设置
  - 内部模块（仅内部员工可见）
  - 外部模块（仅外部用户可见）
- 模块权限设置
  - 访问权限
  - 管理权限
  - 默认权限

#### 1.2 模块编辑
- 修改基本信息
- 调整排序位置
- 更新模块图标
- 状态变更

#### 1.3 模块删除
- 删除前检查
  - 检查是否有关联菜单
  - 检查是否有关联权限
- 删除确认机制
- 批量删除功能

### 2. 模块查询与展示
#### 2.1 模块列表
- 表格形式展示
- 分页功能
- 排序功能
- 内外部模块分类展示

#### 2.2 模块搜索
- 按名称搜索
- 按标识搜索
- 按类型筛选
- 按状态筛选
- 高级搜索

### 3. 模块应用
#### 3.1 菜单关联
- 查看关联菜单
- 管理关联菜单
- 菜单排序

#### 3.2 权限关联
- 查看关联权限
- 管理关联权限
- 权限分配

## 交互流程

### 创建模块流程
1. 点击"创建模块"按钮
2. 打开创建模块表单
3. 填写模块信息：
   - 基本信息
   - 选择模块类型
   - 设置权限
4. 提交表单
5. 系统验证数据
6. 创建成功后自动刷新列表

### 编辑模块流程
1. 点击模块行的"编辑"按钮
2. 打开编辑表单
3. 修改模块信息
4. 提交修改
5. 系统验证数据
6. 保存成功后自动刷新列表

### 删除模块流程
1. 点击模块行的"删除"按钮
2. 系统检查模块状态
   - 是否有关联菜单
   - 是否有关联权限
3. 显示删除确认对话框
4. 确认删除操作
5. 执行删除
6. 刷新模块列表

### 关联菜单流程
1. 点击"关联菜单"按钮
2. 显示菜单管理界面
3. 创建或关联菜单
4. 调整菜单排序
5. 保存菜单设置
6. 自动刷新关联状态

## 页面元素

### 1. 功能按钮区
- 创建模块按钮
- 批量操作按钮
- 导入按钮
- 导出按钮
- 刷新按钮

### 2. 搜索筛选区
- 模块名称搜索
- 模块标识搜索
- 模块类型筛选
- 状态筛选
- 创建时间范围筛选

### 3. 列表显示区
- 模块ID
- 模块名称
- 模块标识
- 模块图标
- 模块类型
- 排序号
- 关联菜单数量
- 创建时间
- 状态
- 操作按钮组

### 4. 操作按钮组
- 编辑
- 删除
- 关联菜单
- 查看权限
- 启用/停用

## 注意事项

### 1. 模块类型控制
- 内部模块和外部模块完全隔离
- 模块类型一旦设置不可更改
- 不同类型模块的权限独立管理
- 模块类型影响可见范围

### 2. 系统模块保护
- 系统预设模块不可删除
- 核心模块不可停用
- 系统模块特殊保护
- 模块标识唯一性

### 3. 业务规则
- 模块名称全局唯一
- 模块标识全局唯一
- 模块排序影响显示顺序
- 停用模块不显示在导航栏

### 4. 数据验证
- 模块名称不可为空
- 模块标识格式验证
- 排序号必须为整数
- 图标格式验证

### 5. 特殊处理
- 系统管理模块特殊保护
- 批量操作限制
- 模块合并处理
- 模块迁移规则

### 6. 权限控制
- 模块管理权限
- 模块创建权限
- 模块删除权限
- 模块编辑权限

### 7. 性能优化
- 模块缓存机制
- 权限快速检查
- 模块加载优化
- 导航栏渲染优化